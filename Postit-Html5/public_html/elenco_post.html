<!DOCTYPE html>
<html>
    <head>
        <title>Elenco Postit</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="w3.css" >
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

    </head>
    <body>

       <div class="w3-bar w3-blue">
            <a class="w3-bar-item w3-button" href="index.html">Home</a>
            <a class="w3-bar-item w3-button" href="registrazione_utente.html">Registrati</a>
            <a class="w3-bar-item w3-button" href="registrazione_post.html">Nuovo Postit</a>
            <a class="w3-bar-item w3-button" href="elenco_post.html">Elenco Postit</a>
        </div>

        <div id="content">

        </div>
        <script >
            $(document).ready(function () {
                $.ajax({
                    url: "http://localhost:8080/PostIt/resources/messaggi/"
                }).then(function (data) {
                    for (var i = 0; i < data.length; i++) {
                        $('#content').append(createPost(data[i]));
                    }
                });
            });

            function createPost(p) {
                var ui = "<div class='w3-card-4'>";
                ui = ui.concat("<header class='w3-container w3-light-grey w3-section'>"
                        , "<h2>",
                        p.titolo,
                        "</h2>",
                        "</header>",
                        "<div class='w3-container'>",
                        "<p>"+p.contenuto+"</p>",
                        "<p>"+p.dataCreazione+"</p>",
                        "</div>",
                        "</div>");
                return ui;
            }
        </script>
    </body>

</html>
